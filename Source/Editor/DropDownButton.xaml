<UserControl x:Class="Editor.DropDownButton"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="xDropDownButtonUserControl">
    <Button x:Name="xButton" Click="AddAppenderOnClick" Content="{Binding ButtonName}" DataContext="{Binding ElementName=xDropDownButtonUserControl}">
        <Button.ContextMenu>
            <ContextMenu ItemsSource="{Binding ItemsSource}" Width="{Binding ContextMenuWidth}" >
                <ContextMenu.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel Margin="-35,0,0,0" Background="#F5F5F5"/>
                    </ItemsPanelTemplate>
                </ContextMenu.ItemsPanel>
                <ContextMenu.ItemTemplate>
                    <DataTemplate>
                        <Label Content="{Binding Name}" />
                    </DataTemplate>
                </ContextMenu.ItemTemplate>
                <ContextMenu.ItemContainerStyle>
                    <Style TargetType="MenuItem">
                        <EventSetter Event="PreviewMouseLeftButtonUp" Handler="AddAppenderItemOnClick" />
                    </Style>
                </ContextMenu.ItemContainerStyle>
            </ContextMenu>
        </Button.ContextMenu>
    </Button>
</UserControl>

